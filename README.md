# Learn JSR
<!-- ![Status: ToDo](https://flat.badgen.net/static/Status/ToDo/red) -->
![Status: In Progress](https://flat.badgen.net/static/Status/In%20Progress/yellow)
<!-- ![Status: Done](https://flat.badgen.net/static/Status/Done/green) -->

## æœ¬ãƒªãƒã‚¸ãƒˆãƒªã®ç›®çš„
Denoç¤¾ãŒå§‹ã‚ãŸæ–°ã—ã„ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã€[JSR](https://jsr.io)ã€ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¦ã¿ã‚‹ã€‚  
è‡ªå‹•ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯ã•ã‚Œãªã„ãŸã‚ã€ã§ãã‚‹ã ã‘è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹ã‚ˆã†ã«å·¥å¤«ã‚’ã™ã‚‹ã€‚

## æœ¬ãƒªãƒã‚¸ãƒˆãƒªã®é”æˆç›®æ¨™
- [x] åˆæœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç«‹ã¡ä¸Šã’ã¦JSRã«å…¬é–‹ã™ã‚‹
- [x] deno.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã›ãšã«é–¢æ•°ã‚’è¿½åŠ ã—ã¦å…¬é–‹ã•ã‚Œãªã„ã“ã¨ã‚’ç¢ºèªã™ã‚‹
- [x] deno.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¦é–¢æ•°ã‚’è¿½åŠ ã—ã¦å…¬é–‹ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
- [x] ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨Git Tagã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é€£å‹•ã•ã›ã‚‹
- [x] GitHub Releaseã‚’è‡ªå‹•ã§è¿½åŠ ã™ã‚‹
- [x] JSRã§ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¬é–‹ã§ãã‚‹ã‹è©¦ã™
- [x] JSRã®lintãŒåŠ¹ã‹ãªã„å•é¡Œã‚’è§£æ±ºã™ã‚‹
- [x] importãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å•é¡Œã‚’è§£æ±ºã™ã‚‹
- [x] Squash mergeã¨`npm:changesets/cli`ã‚’ä½¿ã£ã¦ã€PRå˜ä½ã§æ©Ÿèƒ½ã‚’ã¾ã¨ã‚ãŸãƒªãƒªãƒ¼ã‚¹ãŒã§ãã‚‹ã‹è©¦ã™
- [ ] ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èª¿æ•´ã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ãŸã‚‰PRãŒä½œæˆã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£

### ãƒªãƒªãƒ¼ã‚¹æ‰‹é †
ã“ã“ã«è‡ªä½œãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ(ä»®ç§°:Kugiri)ã‚’ä½¿ã£ãŸãƒªãƒªãƒ¼ã‚¹æ‰‹é †ã‚’æ›¸ã

#### ã‚»ãƒ«ãƒ•æ›´æ–°
1. `deno task release`ã‚’å©ã
2. ä»¥å‰ã®ã‚¿ã‚°ä»¥é™ã®ã™ã¹ã¦ã®Gitãƒ­ã‚°ã‚’æµšã£ã¦ã€ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’èª­ã¿å‡ºã—é…åˆ—ã«æŠ¼ã—è¾¼ã‚€
3. èª­ã¿å‡ºã•ã‚ŒãŸãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‹ã‚‰ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚„ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã€ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã™ã‚‹ã‹ã‚’æ±ºå®šã™ã‚‹

#### changesets Actionsäº’æ›
1. `deno task release --md`ã‚’å©ã
2. releaseã‚³ãƒãƒ³ãƒ‰ãŒã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°ã™ã‚‹ã‹ã‚’Markdownã«æ›¸ãè¾¼ã‚€
3. Gitã‚¿ã‚°ã‚’æ‰“ã¡è¾¼ã‚€
4. ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã«ã‚ã’ã‚‹
5. mainãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã¿ã€changesetsã®Actionsã‚’å©ã

### ã‚¨ãƒ©ãƒ¼è§£æ±º
#### GitHub Actionsã§GitHub ReleasesãŒç”Ÿæˆã§ããªã„
`jobs.<job_name>.permissions.contents`ãŒ`write`ã«ãªã£ã¦ã„ãªã‹ã£ãŸ

#### ç´ ã®Denoã§changesetsãŒä½¿ãˆãªã„
`changesets init`ã¯å‹•ä½œã—ãŸãŒã€`changesets version`ãŒä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦å‹•ä½œã—ãªã„

```sh
$ deno run npm:@changesets/cli@2.27.12 version
âœ… Granted all env access.
âœ… Granted all read access.
âœ… Granted all sys access.
ğŸ¦‹  error Error: No package.json could be found upwards from the directory /home/windchime-yk/dev/playground/learn-jsr
ğŸ¦‹  error     at _callee4$ (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@manypkg/find-root/1.1.0/dist/find-root.cjs.dev.js:217:19)
ğŸ¦‹  error     at tryCatch (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@babel/runtime/7.26.7/helpers/regeneratorRuntime.js:45:16)
ğŸ¦‹  error     at Generator.<anonymous> (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@babel/runtime/7.26.7/helpers/regeneratorRuntime.js:133:17)
ğŸ¦‹  error     at Generator.next (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@babel/runtime/7.26.7/helpers/regeneratorRuntime.js:74:21)
ğŸ¦‹  error     at asyncGeneratorStep (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@babel/runtime/7.26.7/helpers/asyncToGenerator.js:3:17)
ğŸ¦‹  error     at _next (file:///home/windchime-yk/.cache/deno/npm/registry.npmjs.org/@babel/runtime/7.26.7/helpers/asyncToGenerator.js:17:9)
ğŸ¦‹  error     at eventLoopTick (ext:core/01_core.js:177:7) {
ğŸ¦‹  error   directory: '/home/windchime-yk/dev/playground/learn-jsr'
ğŸ¦‹  error }
```
ã“ã‚Œã¯æ›¸ã„ã¦ã‚ã‚‹ã¨ãŠã‚Šã€ä»Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«`package.json`ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ã‚‹  
å®Ÿéš›ã®ã¨ã“ã‚ã€Denoã¯`package.json`ã‚‚ã‚«ãƒãƒ¼ã—ã¦ã„ã‚‹ã®ã§åˆ©ç”¨å¯èƒ½ã‹ã‚‚ã—ã‚Œãªã„ãŒã€ç§å€‹äººãŒ`deno.jsonc`ã§ã‚„ã£ã¦ã„ããŸã„ãŸã‚changesetsã¯ä½¿ã‚ãªã„æ–¹é‡ã¨ã™ã‚‹
changesetsã®Denoå¯¾å¿œã¯é–‹ç™ºãƒªã‚½ãƒ¼ã‚¹ã®éƒ½åˆã§ãƒ¡ãƒ³ãƒ†ãƒŠã¯ç€æ‰‹ã—ã¥ã‚‰ã„çŠ¶æ³ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å´ãŒå¯¾å¿œã—ãªã„é™ã‚Šã¯é›£ã—ã„ã¨è€ƒãˆã‚‰ã‚Œã‚‹
https://github.com/changesets/changesets/discussions/824

Denoå…¬å¼ã¯ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒªãƒ¼ã‚¹ã«è‡ªå‰ã®ãƒªãƒªãƒ¼ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹[`@deno/bump-workspaces`](https://jsr.io/@deno/bump-workspaces)ã‚’ä½¿ã£ã¦ã„ã‚‹  
Freshã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã‚‹é™ã‚Šã§ã¯æ‰‹å‹•ãªæ¨¡æ§˜

## å…¬é–‹å…ˆ
- [@whyk/greeting](https://jsr.io/@whyk/greeting)

## å‚è€ƒè³‡æ–™
- [@whyk/greetingã®å…¬é–‹æ–¹æ³•æ¡ˆå†…ãƒšãƒ¼ã‚¸](https://jsr.io/@whyk/greeting/publish)
- [GitHub Actionsã§ã®å…¬é–‹æ–¹æ³•æ¡ˆå†…](https://jsr.io/docs/publishing-packages#publishing-from-github-actions)
- [GitHub Actions: Deprecating save-state and set-output commands - The GitHub Blog](https://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/)
- [ã‚¨ãƒ©ãƒ¼: 403 "çµ±åˆã«ã‚ˆã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“" - GitHub Docs](https://docs.github.com/ja/code-security/code-scanning/troubleshooting-code-scanning/resource-not-accessible)
- [Github Actionsã§Resource not accessible by integrationãŒå‡ºãŸéš›ã®å¯¾å‡¦æ³•](https://zenn.dev/tatsugon/articles/github-actions-permission-error)
- [GITHUB_TOKEN ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã®å¤‰æ›´ - è‡ªå‹•ãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼ - GitHub Docs](https://docs.github.com/ja/actions/security-guides/automatic-token-authentication#modifying-the-permissions-for-the-github_token)
- [permissions - GitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æ–‡ - GitHub Docs](https://docs.github.com/ja/actions/using-workflows/workflow-syntax-for-github-actions#permissions)
- [Github Actionsã‚’ä½¿ã£ã¦git commitã¨git pushã‚’è‡ªå‹•åŒ–ã—ã‚ˆã†ã€‚ - ãƒãƒ³ã‚³ãƒ„ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ã”ã˜ã‚ƒã£ãºé–‹ç™ºæ—¥è¨˜ã€‚](https://www.pnkts.net/2020/07/25/github_actions-git-commit-push)
- [Use target-version in a file, then create the tag of both Â· Issue #204 Â· mathieudutour/github-tag-action](https://github.com/mathieudutour/github-tag-action/issues/204)
- [Mark this repository as unmaintained Â· Issue #119 Â· actions/create-release](https://github.com/actions/create-release/issues/119)
- [Github Actions ã® workflow run ã«ã¤ã„ã¦](https://zenn.dev/keitacoins/articles/2a715be45e874f)
- [ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å†åˆ©ç”¨ - GitHub Docs](https://docs.github.com/ja/actions/using-workflows/reusing-workflows)
- [\[github actions\] Reusable workflowsãŒå®Ÿè£…ã•ã‚ŒãŸã®ã§ã–ã£ã¨ã¾ã¨ã‚](https://zenn.dev/jerome/articles/618af7cc934f2f)
- [changesetsã‚’ä½¿ã£ã¦Webã‚µã‚¤ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’è‡ªå‹•åŒ–ã™ã‚‹](https://zenn.dev/108yen/articles/358d9c7201b238)
- [ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° 2.0.0 | Semantic Versioning](https://semver.org/lang/ja/)
